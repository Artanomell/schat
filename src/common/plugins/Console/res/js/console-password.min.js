Console.feed.storage.put.password=function(a){console.log(a),$("#password-spinner").addClass("hide"),clearTimeout(Console.password.timeout),200==a.status?(Loader.spinner.add("loading/try"),SimpleChat.get(SimpleChat.serverId(),"console/try")):Console.password.setError(a.status)},Console.password={timeout:null,load:function(){$.ajax({url:"password.html",isLocal:!0,success:Console.password.loaded})},loaded:function(a){$("#page").html(a),Console.current="password",Utils.retranslate(),Console.password.adjustWidth();var b=$("#new-password");b.focus(),$("#save").on("click.password",function(a){a.preventDefault();var b=Console.password.verify();return""!==b?void Console.password.setError(b):(Console.password.timeout=setTimeout(function(){$("#password-spinner").removeClass("hide")},400),void SimpleChat.request(SimpleChat.serverId(),"put","storage/password",{value:ConsoleView.toPassword($("#new-password").val())}))}),$("#cancel").on("click.password",function(a){a.preventDefault(),Loader.spinner.add("loading/try"),SimpleChat.get(SimpleChat.serverId(),"console/try")})},verify:function(){var a=$("#new-password").val();if(a!==$("#confirm-new-password").val())return"console_password_mismatch";var b=a.length;return 0==b?"console_empty_password":8>b?"console_password_short":""},setError:function(a){$("#new-password-group").addClass("error"),$("#confirm-new-password-group").addClass("error");var b=$("#error");"number"==typeof a?(b.removeAttr("data-tr"),b.html("<strong>"+a+"</strong> "+SimpleChat.statusText(a))):(b.attr("data-tr",a),b.html(Utils.tr(a))),b.fadeIn("fast")},adjustWidth:function(){Utils.adjustWidth($(".control-label")),Utils.adjustWidth($("button"))}},"undefined"!=typeof SimpleChat&&SimpleChat.retranslated.connect(Console.password.adjustWidth);